<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard</title>
  <link rel="stylesheet" href="css/dashboard.css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <script src="js/xpNotifications.js"></script>
  <script src="js/currencyManager.js"></script>
  <script src="js/currencyNotifications.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="js/dashboard.js" defer></script>
</head>

<body>
  <div class="app-container">
    <aside class="sidebar">
      <!-- Zenity logo + buttons -->
      <div class="branding">
        <img src="img/ZenityLogoNoBG.png" alt="Zenity Logo" class="logo-img" />
        <a href="index.html" style="text-decoration: none; color: inherit;">
          <span class="brand-name">Zenity</span>
        </a>
      </div>

      <nav class="nav-menu">
        <button>
          <img src="img/dailylog.png" class="icon-img" /> Daily Log
        </button>
        <button>
          <img src="img/habit.png" class="icon-img" /> Habit Tracker
        </button>
        <button>
          <img src="img/achievement.png" class="icon-img" /> Achievements
        </button>
        <button><img src="img/shop.png" class="icon-img" /> Shop</button>
        <button><img src="img/rooms.png" class="icon-img" /> Rooms</button>
        <button>
          <img src="img/community.png" class="icon-img" /> Community
        </button>
      </nav>
    </aside>

    <div class="main-area">
      <header class="header">
        <!-- Coins | Stars | Theme -->
        <div class="greeting" id="user-greeting">ðŸ‘‹ Hello, User</div>
        <div class="status-icons">
          <div class="icon-item">
            <img src="img/star.png" alt="Stars" class="header-icon" />
            <span>120</span>
          </div>
          <div class="icon-item">
            <img src="img/dollar.png" alt="Coins" class="header-icon" />
            <span>450</span>
          </div>
          <select class="theme-selector">
            <option value="creamy">Theme 1</option>
            <option value="blue">Theme 2</option>
            <option value="forest">Theme 3</option>
          </select>
          <div class="account">
            <img src="img/profile-user.png" alt="Account" id="account-button">
            <div class="account-dropdown" id="account-dropdown">
              <div class="dropdown-item" id="my-profile">
                <i class="fas fa-user"></i>
                <span>My Profile</span>
              </div>
              <div class="dropdown-item" id="account-settings">
                <i class="fas fa-cog"></i>
                <span>Account</span>
              </div>
              <div class="dropdown-divider"></div>
              <div class="dropdown-item" id="logout">
                <i class="fas fa-sign-out-alt"></i>
                <span>Log Out</span>
              </div>
            </div>
          </div>
        </div>
      </header>
      
      <div class="dashboard-header-row">
        <div class="left-column">
          <div class="top-strip">
            <!-- ðŸ”¥ Streak Box -->
            <div class="streak-box">
              <span class="streak-emoji">ðŸ”¥</span>
              <div class="streak-texts">
                <div class="label">Streaks</div>
                <div class="values">
                  Current: <strong>3</strong> | Highest: <strong>10</strong>
                </div>
              </div>
            </div>

            <!-- ðŸ§ª XP + Level Box -->
            <div class="xp-box">
              <div class="xp-label-row">
                <span class="xp-level-text">Level <strong>5</strong></span>
                <span class="xp-value">XP: 300/500</span>
              </div>
              <div class="xp-bar-container">
                <div class="xp-bar"></div>
              </div>
            </div>
          </div>

          <!-- Sleep chart card under top strip -->
          <div class="sleep-card" id="sleep-card">
            <div class="sleep-card-header">
              <span class="sleep-title">Sleep</span>
              <span class="sleep-subtitle" id="sleep-date-label"></span>
            </div>
            <div class="sleep-card-body">
              <canvas id="sleep-chart-canvas"></canvas>
              <div id="sleep-empty-state" class="sleep-empty">No sleep data yet. Log your day to see insights.</div>
            </div>
          </div>

          <!-- Mental health metrics chart card -->
          <div class="mental-card" id="mental-card">
            <div class="mental-card-header">
              <span class="mental-title">Mental Health Metrics</span>
              <span class="mental-subtitle" id="mental-date-label"></span>
            </div>
            <div class="mental-card-body">
              <canvas id="mental-chart-canvas"></canvas>
              <div id="mental-empty-state" class="mental-empty">No metrics yet. Log your day to see anxiety, stress and energy here.</div>
            </div>
          </div>
        </div>

        <!-- Main 3D container for emoji and pet -->
        <div class="main-3d-container">
          <div class="right-mini-column">
            <div class="pets-3d-container" id="pets-3d-container"></div>
            <!-- Read section under the pet -->
            <div class="read-card" id="read-card">
              <div class="read-card-header">
                <span class="read-title">Read</span>
                <span class="read-subtitle">Daily picks</span>
              </div>
              <ul class="read-list" id="read-list"></ul>
            </div>
            <!-- Streak calendar mini heatmap -->
            <div class="streak-calendar-card" id="streak-calendar-card">
              <div class="streak-card-header">
                <span class="streak-title">Streak Calendar</span>
                <span class="streak-subtitle" id="streak-month-label"></span>
              </div>
              <div class="calendar-grid" id="calendar-grid"></div>
            </div>
          </div>
          <div class="emoji-column">
            <div class="emoji-3d-container" id="emoji-3d-container"></div>
            <!-- Mood history chart under emoji -->
            <div class="mood-card" id="mood-card">
              <div class="mood-card-header">
                <span class="mood-title">Mood History</span>
                <span class="mood-subtitle" id="mood-range-label"></span>
              </div>
              <div class="mood-card-body">
                <canvas id="mood-history-canvas"></canvas>
                <div id="mood-empty-state" class="mental-empty">No mood entries yet.</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      

      <main class="dashboard">
        <!-- Pet | Streaks | Stress | Read | etc -->
      </main>
      
      <!-- Read article modal -->
      <div id="read-modal" class="read-modal" hidden>
        <div class="read-modal-backdrop" id="read-modal-backdrop"></div>
        <div class="read-modal-content">
          <div class="read-modal-header">
            <h3 id="read-modal-title"></h3>
            <button id="read-modal-close" aria-label="Close">Ã—</button>
          </div>
          <div class="read-modal-source" id="read-modal-source"></div>
          <div class="read-modal-body" id="read-modal-body"></div>
        </div>
      </div>
    </div>
</body>

</html>